<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JavaScript高级程序设计," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.0.1" />






<meta name="description" content="5.7 单体内置对象ECMA-262 对内置对象的定义是：“由 ECMAScript 实现提供的、不依赖于宿主环境的对象，这些对象在 ECMAScript 程序执行之前就已经存在了。”意思就是说，开发人员不必显式地实例化内置对象，因为它们已经实例化了。前面我们已经介绍了大多数内置对象，例如 Object、Array 和 String。ECMA-262 还定义了两个单体内置对象：Global 和 M">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript高级程序设计（5.7-5.8）">
<meta property="og:url" content="http://yoursite.com/2017/09/21/JavaScript高级程序设计（5.7-5.8）/index.html">
<meta property="og:site_name" content="Rason">
<meta property="og:description" content="5.7 单体内置对象ECMA-262 对内置对象的定义是：“由 ECMAScript 实现提供的、不依赖于宿主环境的对象，这些对象在 ECMAScript 程序执行之前就已经存在了。”意思就是说，开发人员不必显式地实例化内置对象，因为它们已经实例化了。前面我们已经介绍了大多数内置对象，例如 Object、Array 和 String。ECMA-262 还定义了两个单体内置对象：Global 和 M">
<meta property="og:updated_time" content="2017-09-28T03:53:59.464Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript高级程序设计（5.7-5.8）">
<meta name="twitter:description" content="5.7 单体内置对象ECMA-262 对内置对象的定义是：“由 ECMAScript 实现提供的、不依赖于宿主环境的对象，这些对象在 ECMAScript 程序执行之前就已经存在了。”意思就是说，开发人员不必显式地实例化内置对象，因为它们已经实例化了。前面我们已经介绍了大多数内置对象，例如 Object、Array 和 String。ECMA-262 还定义了两个单体内置对象：Global 和 M">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2017/09/21/JavaScript高级程序设计（5.7-5.8）/"/>

  <title> JavaScript高级程序设计（5.7-5.8） | Rason </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?c0b175368f6e60b955380864b509c3fc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <div style="display: none;">
    <script src="//s6.cnzz.com/stat.php?id=1259942288&web_id=1259942288" type="text/javascript"></script>
  </div>





  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Rason</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Rason 博客</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                JavaScript高级程序设计（5.7-5.8）
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-09-21T14:13:48+08:00" content="2017-09-21">
              2017-09-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="5-7-单体内置对象"><a href="#5-7-单体内置对象" class="headerlink" title="5.7 单体内置对象"></a>5.7 单体内置对象</h1><p><strong>ECMA-262 对内置对象的定义是：“由 ECMAScript 实现提供的、不依赖于宿主环境的对象，这些对象在 ECMAScript 程序执行之前就已经存在了。”意思就是说，开发人员不必显式地实例化内置对象，因为它们已经实例化了。前面我们已经介绍了大多数内置对象，例如 Object、Array 和 String。ECMA-262 还定义了两个单体内置对象：Global 和 Math</strong>。</p>
<h1 id="内容涵盖"><a href="#内容涵盖" class="headerlink" title="内容涵盖"></a>内容涵盖</h1><ol>
<li><a href="#5.7.1">Global 对象</a><ol>
<li><a href="#5.7.1.1">URL 编码方法</a></li>
<li><a href="#5.7.1.2">eval() 方法</a></li>
<li><a href="#5.7.1.3">Global 对象的属性</a></li>
<li><a href="#5.7.1.4">window 对象</a></li>
</ol>
</li>
<li><a href="#5.7.2">Math 对象</a><ol>
<li><a href="#5.7.2.1">Math 对象的属性</a></li>
<li><a href="#5.7.2.2">min() 和 max() 方法</a></li>
<li><a href="#5.7.2.3">舍入方法</a></li>
<li><a href="#5.7.2.4">random() 方法</a></li>
<li><a href="#5.7.2.5">其他方法</a></li>
</ol>
</li>
<li><a href="#5.8">第五章小结</a></li>
</ol>
<a id="more"></a>
<p><span id="5.7.1"></span></p>
<h1 id="5-7-1-Global-对象"><a href="#5-7-1-Global-对象" class="headerlink" title="5.7.1 Global 对象"></a>5.7.1 Global 对象</h1><p>Global（全局）对象可以说是 ECMAScript 中最特别的一个对象了，因为不管你从什么角度上看，这个对象都是不存在的。ECMAScript 中的 Global 对象在某种意义上是作为一个终极的“兜底儿对象”来定义的。<strong>换句话说，不属于任何其他对象的属性和方法，最终都是它的属性和方法</strong>。</p>
<p><strong>事实上，没有全局变量或全局函数；所有在全局作用域中定义的属性和函数，都是 Global 对象的属性</strong>。本书前面介绍过的那些函数，诸如 isNaN()、isFinite()、parseInt() 以及 parseFloat()，实际上全都是 Global 对象的方法。除此之外，Global 对象还包含其他一些方法。</p>
<p><span id="5.7.1.1"></span></p>
<h2 id="5-7-1-1-URL-编码方法"><a href="#5-7-1-1-URL-编码方法" class="headerlink" title="5.7.1.1 URL 编码方法"></a>5.7.1.1 URL 编码方法</h2><p><strong>Global 对象的 encodeURI() 和 encodeURIComponent() 方法可以对 URI（Uniform Resource Identifiers，通用资源标识符）进行编码，以便发送给浏览器</strong>。</p>
<p><strong>有效的 URI 中不能包含某些字符，例如空格。而这两个 URI 编码方法就可以对 URI 进行编码，它们用特殊的 UTF-8 编码替换所有无效的字符，从而让浏览器能够接受和理解</strong>。</p>
<p>其中，encodeURI()主要用于整个 URI（例如，<a href="http://www.wrox.com/illegal" target="_blank" rel="external">http://www.wrox.com/illegal</a> value.htm），而 encodeURIComponent()主要用于对 URI 中的某一段（例如前面 URI 中的 illegal value.htm）进行编码。</p>
<p>它们的主要区别在于，encodeURI() 不会对本身属于 URI 的特殊字符进行编码，例如冒号、正斜杠、问号和井字号；而 encodeURIComponent() 则会对它发现的任何非标准字符进行编码。来看下面的例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var uri = &quot;http://www.wrox.com/illegal value.htm#start&quot;;</div><div class="line"></div><div class="line">alert(encodeURI(uri));          //&quot;http://www.wrox.com/illegal%20value.htm#start&quot;</div><div class="line"></div><div class="line">alert(encodeURIComponent(uri)); //&quot;http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.htm%23start&quot;</div></pre></td></tr></table></figure>
<blockquote>
<p>使用 <strong>encodeURI() 编码后的结果是除了空格之外的其他字符都原封不动，只有空格被替换成了%20</strong>。而 <strong>encodeURIComponent() 方法则会使用对应的编码替换所有非字母数字字符</strong>。这也正是可以对整个 URI 使用 encodeURI()，而只能对附加在现有 URI 后面的字符串使用 encodeURIComponent() 的原因所在。</p>
</blockquote>
<p>一般来说，我们使用 encodeURIComponent() 方法的时候要比使用 encodeURI() 更多，因为在实践中更常见的是对查询字符串参数而不是对基础 URI进行编码。</p>
<p>与 <strong>encodeURI() 和 encodeURIComponent() 方法对应的两个方法分别是 decodeURI() 和 decodeURIComponent()</strong>。</p>
<p>其中，<strong>decodeURI() 只能对使用 encodeURI() 替换的字符进行解码。例如，它可将%20 替换成一个空格，但不会对%23 作任何处理，因为%23 表示井字号（#），而井字号不是使用 encodeURI() 替换的</strong>。</p>
<p>同样地，<strong>decodeURIComponent() 能够解码使用 encodeURIComponent() 编码的所有字符，即它可以解码任何特殊字符的编码</strong>。来看下面的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var uri = &quot;http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.htm%23start&quot;;</div><div class="line"></div><div class="line">alert(decodeURI(uri));</div><div class="line">//http%3A%2F%2Fwww.wrox.com%2Fillegal value.htm%23start</div><div class="line"></div><div class="line">alert(decodeURIComponent(uri));</div><div class="line">//http://www.wrox.com/illegal value.htm#start</div></pre></td></tr></table></figure>
<blockquote>
<p>这里，变量 uri 包含着一个由 encodeURIComponent() 编码的字符串。在第一次调用 decodeURI()输出的结果中，只有%20 被替换成了空格。而在第二次调用 decodeURIComponent()输出的结果中，所有特殊字符的编码都被替换成了原来的字符，得到了一个未经转义的字符串（但这个字符串并不是一个有效的 URI）。</p>
</blockquote>
<p>URI 方法 encodeURI()、encodeURIComponent()、decodeURI() 和 decodeURIComponent() 用于替代已经被 ECMA-262 第 3 版废弃的escape() 和unescape() 方法。URI方法能够编码所有 Unicode 字符，而原来的方法只能正确地编码 ASCII 字符。<br>因此在开发实践中，特别是在产品级的代码中，一定要使用 URI 方法，不要使用 escape() 和 unescape() 方法。</p>
<p><span id="5.7.1.2"></span></p>
<h2 id="5-7-1-2-eval-方法"><a href="#5-7-1-2-eval-方法" class="headerlink" title="5.7.1.2 eval() 方法"></a>5.7.1.2 eval() 方法</h2><p>现在，我们介绍最后一个——<strong>大概也是整个 ECMAScript 语言中最强大的一个方法：eval()</strong>。</p>
<p><strong>eval() 方法就像是一个完整的 ECMAScript 解析器，它只接受一个参数，即要执行的 ECMAScript（或 JavaScript）字符串</strong>。看下面的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">eval(&quot;alert(&apos;hi&apos;)&quot;);</div><div class="line"></div><div class="line">//这行代码的作用等价于下面这行代码：</div><div class="line"></div><div class="line">alert(&quot;hi&quot;);</div></pre></td></tr></table></figure>
<p><strong>当解析器发现代码中调用 eval() 方法时，它会将传入的参数当作实际的 ECMAScript 语句来解析，然后把执行结果插入到原位置</strong>。通过 <strong>eval() 执行的代码被认为是包含该次调用的执行环境的一部分，因此被执行的代码具有与该执行环境相同的作用域链</strong>。这意味着通过 eval() 执行的代码可以引用在包含环境中定义的变量，举个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var msg = &quot;hello world&quot;;</div><div class="line">eval(&quot;alert(msg)&quot;); //&quot;hello world&quot;</div></pre></td></tr></table></figure>
<blockquote>
<p>可见，变量 msg 是在 eval()调用的环境之外定义的，但其中调用的 alert() 仍然能够显示”hello world”。这是因为上面第二行代码最终被替换成了一行真正的代码。</p>
</blockquote>
<p>同样地，我们也可以在 eval() 调用中定义一个函数，然后再在该调用的外部代码中引用这个函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eval(&quot;function sayHi() &#123; alert(&apos;hi&apos;); &#125;&quot;);</div><div class="line">sayHi();</div></pre></td></tr></table></figure>
<blockquote>
<p>显然，函数 sayHi() 是在 eval() 内部定义的。但由于对 eval() 的调用最终会被替换成定义函数<br>的实际代码，因此可以在下一行调用 sayHi()。</p>
</blockquote>
<p>对于变量也一样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eval(&quot;var msg = &apos;hello world&apos;; &quot;);</div><div class="line">alert(msg); //&quot;hello world&quot;</div></pre></td></tr></table></figure>
<blockquote>
<p><strong>在 eval()中创建的任何变量或函数都不会被提升</strong>，因为在解析代码的时候，它们被包含在一个字符串中；它们只在 eval() 执行的时候创建。</p>
</blockquote>
<p><strong>严格模式下，在外部访问不到 eval() 中创建的任何变量或函数，因此前面两个例子都会导致错误</strong>。</p>
<p>同样，<strong>在严格模式下，为 eval 赋值也会导致错误</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&quot;use strict&quot;;</div><div class="line">eval = &quot;hi&quot;; //causes error</div></pre></td></tr></table></figure>
<p>能够解释代码字符串的能力非常强大，但也非常危险。因此在使用 eval() 时必须极为谨慎，特别是在用它执行用户输入数据的情况下。否则，可能会有恶意用户输入威胁你的站点或应用程序安全的代码（即所谓的代码注入）。</p>
<p><span id="5.7.1.3"></span></p>
<h2 id="5-7-1-3-Global-对象的属性"><a href="#5-7-1-3-Global-对象的属性" class="headerlink" title="5.7.1.3 Global 对象的属性"></a>5.7.1.3 Global 对象的属性</h2><p>Global 对象还包含一些属性，其中一部分属性已经在本书前面介绍过了。例如，特殊的值 undefined、NaN 以及 Infinity 都是 Global 对象的属性。此外，所有原生引用类型的构造函数，像 Object 和 Function，也都是 Global 对象的属性。下表列出了 Global 对象的所有属性。</p>
<table>
<thead>
<tr>
<th>属 性</th>
<th>说 明</th>
<th>属 性</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>undefined</td>
<td>特殊值undefined</td>
<td>Date</td>
<td>构造函数Date</td>
</tr>
<tr>
<td>NaN</td>
<td>特殊值NaN</td>
<td>RegExp</td>
<td>构造函数RegExp</td>
</tr>
<tr>
<td>Infinity</td>
<td>特殊值Infinity</td>
<td>Error</td>
<td>构造函数Error</td>
</tr>
<tr>
<td>Object</td>
<td>构造函数Object</td>
<td>EvalError</td>
<td>构造函数EvalError</td>
</tr>
<tr>
<td>Array</td>
<td>构造函数Array</td>
<td>RangeError</td>
<td>构造函数RangeError</td>
</tr>
<tr>
<td>Function</td>
<td>构造函数Function</td>
<td>ReferenceError</td>
<td>构造函数ReferenceError</td>
</tr>
<tr>
<td>Boolean</td>
<td>构造函数Boolean</td>
<td>SyntaxError</td>
<td>构造函数SyntaxError</td>
</tr>
<tr>
<td>String</td>
<td>构造函数String</td>
<td>TypeError</td>
<td>构造函数TypeError</td>
</tr>
<tr>
<td>Number</td>
<td>构造函数Number</td>
<td>URIError</td>
<td>构造函数URIError</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ECMAScript 5 明确禁止给 undefined、NaN 和 Infinity 赋值，这样做即使在非严格模式下也会导致错误。</p>
</blockquote>
<p><span id="5.7.1.4"></span></p>
<h2 id="5-7-1-4-window-对象"><a href="#5-7-1-4-window-对象" class="headerlink" title="5.7.1.4 window 对象"></a>5.7.1.4 window 对象</h2><p><strong>ECMAScript 虽然没有指出如何直接访问 Global 对象，但 Web 浏览器都是将这个全局对象作为 window 对象的一部分加以实现的。因此，在全局作用域中声明的所有变量和函数，就都成为了 window 对象的属性</strong>。来看下面的例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var color = &quot;red&quot;;</div><div class="line">function sayColor()&#123;</div><div class="line"> alert(window.color);</div><div class="line">&#125;</div><div class="line">window.sayColor(); //&quot;red&quot;</div></pre></td></tr></table></figure>
<blockquote>
<p>这里定义了一个名为 color 的全局变量和一个名为 sayColor() 的全局函数。在 sayColor() 内部，我们通过 window.color 来访问 color 变量，以说明全局变量是 window 对象的属性。然后，又使用 window.sayColor() 来直接通过 window 对象调用这个函数，结果显示在了警告框中。</p>
</blockquote>
<p>JavaScript 中的 window 对象除了扮演 ECMAScript 规定的 Global 对象的角色外，还承担了很多别的任务。第 8 章在讨论浏览器对象模型时将详细介绍 window 对象。另一种取得 Global 对象的方法是使用以下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var global = function()&#123;</div><div class="line"> return this;</div><div class="line">&#125;();</div></pre></td></tr></table></figure>
<blockquote>
<p>以上代码创建了一个立即调用的函数表达式，返回 this 的值。如前所述，在没有给函数明确指定 this 值的情况下（无论是通过将函数添加为对象的方法，还是通过调用 call() 或 apply()），this 值等于 Global 对象。而像这样通过简单地返回 this 来取得 Global 对象，在任何执行环境下都是可行的。第 7 章将深入讨论函数表达式。</p>
</blockquote>
<p><span id="5.7.2"></span></p>
<h1 id="5-7-2-Math-对象"><a href="#5-7-2-Math-对象" class="headerlink" title="5.7.2 Math 对象"></a>5.7.2 Math 对象</h1><p>ECMAScript 还为保存数学公式和信息提供了一个公共位置，即 Math 对象。与我们在 JavaScript 直接编写的计算功能相比，Math 对象提供的计算功能执行起来要快得多。Math 对象中还提供了辅助完成这些计算的属性和方法。</p>
<p><span id="5.7.2.1"></span></p>
<h2 id="5-7-2-1-Math-对象的属性"><a href="#5-7-2-1-Math-对象的属性" class="headerlink" title="5.7.2.1 Math 对象的属性"></a>5.7.2.1 Math 对象的属性</h2><p>Math 对象包含的属性大都是数学计算中可能会用到的一些特殊值。下表列出了这些属性。</p>
<table>
<thead>
<tr>
<th>属 性</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Math.E</td>
<td>自然对数的底数，即常量e的值</td>
</tr>
<tr>
<td>Math.LN10</td>
<td>10的自然对数</td>
</tr>
<tr>
<td>Math.LN2</td>
<td>2的自然对数</td>
</tr>
<tr>
<td>Math.LOG2E</td>
<td>以2为底e的对数</td>
</tr>
<tr>
<td>Math.LOG10E</td>
<td>以10为底e的对数</td>
</tr>
<tr>
<td>Math.PI</td>
<td>π的值</td>
</tr>
<tr>
<td>Math.SQRT1_2</td>
<td>1/2的平方根（即2的平方根的倒数）</td>
</tr>
<tr>
<td>Math.SQRT2</td>
<td>2的平方根</td>
</tr>
</tbody>
</table>
<p>虽然讨论这些值的含义和用途超出了本书范围，但你确实可以随时使用它们。</p>
<p><span id="5.7.2.2"></span></p>
<h2 id="5-7-2-2-min-和-max-方法"><a href="#5-7-2-2-min-和-max-方法" class="headerlink" title="5.7.2.2 min() 和 max() 方法"></a>5.7.2.2 min() 和 max() 方法</h2><p>Math 对象还包含许多方法，用于辅助完成简单和复杂的数学计算。其中，<strong>min() 和 max() 方法用于确定一组数值中的最小值和最大值。这两个方法都可以接收任意多个数值参数</strong>，如下面的例子所示。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var max = Math.max(3, 54, 32, 16);</div><div class="line">alert(max); //54</div><div class="line">var min = Math.min(3, 54, 32, 16);</div><div class="line">alert(min); //3</div></pre></td></tr></table></figure>
<p>对于 3、54、32 和 16，Math.max() 返回 54，而 Math.min() 返回 3。这两个方法经常用于避免多余的循环和在 if 语句中确定一组数的最大值。</p>
<p><strong>要找到数组中的最大或最小值，可以像下面这样使用 apply() 方法</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var values = [1, 2, 3, 4, 5, 6, 7, 8];</div><div class="line">var max = Math.max.apply(Math, values);</div></pre></td></tr></table></figure>
<p>这个技巧的关键是把 Math 对象作为 apply() 的第一个参数，从而正确地设置 this 值。然后，可以将任何数组作为第二个参数。</p>
<p><span id="5.7.2.3"></span></p>
<h2 id="5-7-2-3-舍入方法"><a href="#5-7-2-3-舍入方法" class="headerlink" title="5.7.2.3 舍入方法"></a>5.7.2.3 舍入方法</h2><p>下面来介绍将小数值舍入为整数的几个方法：Math.ceil()、Math.floor()和 Math.round()。这三个方法分别遵循下列舍入规则：</p>
<ol>
<li>Math.ceil()执行向上舍入，即它总是将数值向上舍入为最接近的整数；</li>
<li>Math.floor()执行向下舍入，即它总是将数值向下舍入为最接近的整数；</li>
<li>Math.round()执行标准舍入，即它总是将数值四舍五入为最接近的整数（这也是我们在数学课上学到的舍入规则）。</li>
</ol>
<p>下面是使用这些方法的示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">alert(Math.ceil(25.9)); //26</div><div class="line">alert(Math.ceil(25.5)); //26</div><div class="line">alert(Math.ceil(25.1)); //26</div><div class="line">alert(Math.round(25.9)); //26</div><div class="line">alert(Math.round(25.5)); //26</div><div class="line">alert(Math.round(25.1)); //25</div><div class="line">alert(Math.floor(25.9)); //25</div><div class="line">alert(Math.floor(25.5)); //25</div><div class="line">alert(Math.floor(25.1)); //25</div></pre></td></tr></table></figure>
<blockquote>
<p>对于所有介于 25 和 26（不包括 26）之间的数值，Math.ceil()始终返回 26，因为它执行的是向上舍入。Math.round()方法只在数值大于等于 25.5 时返回 26；否则返回 25。最后，Math.floor() 对所有介于 25 和 26（不包括 26）之间的数值都返回 25。</p>
</blockquote>
<p><span id="5.7.2.4"></span></p>
<h2 id="5-7-2-4-random-方法"><a href="#5-7-2-4-random-方法" class="headerlink" title="5.7.2.4 random() 方法"></a>5.7.2.4 random() 方法</h2><p><strong>Math.random() 方法返回大于等于 0 小于 1 的一个随机数</strong>。</p>
<p>对于某些站点来说，这个方法非常实用，因为可以利用它来随机显示一些名人名言和新闻事件。套用下面的公式，就可以利用 Math.random()<br>从某个整数范围内随机选择一个值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">值 = Math.floor(Math.random() * 可能值的总数 + 第一个可能的值)</div></pre></td></tr></table></figure>
<blockquote>
<p>公式中用到了 Math.floor() 方法，这是因为 Math.random() 总返回一个小数值。而用这个小数值乘以一个整数，然后再加上一个整数，最终结果仍然还是一个小数。举例来说，如果你想选择一个 1 到 10 之间的数值，可以像下面这样编写代码：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var num = Math.floor(Math.random() * 10 + 1);</div></pre></td></tr></table></figure>
<blockquote>
<p>总共有 10 个可能的值（1 到 10），而第一个可能的值是 1。而如果想要选择一个介于 2 到 10 之间的值，就应该将上面的代码改成这样：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var num = Math.floor(Math.random() * 9 + 2);</div></pre></td></tr></table></figure>
<blockquote>
<p>从 2 数到 10 要数 9 个数，因此可能值的总数就是 9，而第一个可能的值就是 2。</p>
</blockquote>
<p>多数情况下，其实都可以通过一个函数来计算可能值的总数和第一个可能的值，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function selectFrom(lowerValue, upperValue) &#123;</div><div class="line"> var choices = upperValue - lowerValue + 1;</div><div class="line"> return Math.floor(Math.random() * choices + lowerValue);</div><div class="line">&#125;</div><div class="line">var num = selectFrom(2, 10);</div><div class="line">alert(num); // 介于 2 和 10 之间（包括 2 和 10）的一个数值</div></pre></td></tr></table></figure>
<blockquote>
<p>函数 selectFrom() 接受两个参数：应该返回的最小值和最大值。而用最大值减最小值再加 1 得到了可能值的总数，然后它又把这些数值套用到了前面的公式中。这样，通过调用 selectFrom(2,10) 就可以得到一个介于 2 和 10 之间（包括 2 和 10）的数值了。</p>
</blockquote>
<p>利用这个函数，可以方便地从数组中随机取出一项，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var colors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;black&quot;, &quot;purple&quot;, &quot;brown&quot;];</div><div class="line">var color = colors[selectFrom(0, colors.length-1)];</div><div class="line">alert(color); // 可能是数组中包含的任何一个字符串</div></pre></td></tr></table></figure>
<blockquote>
<p>在这个例子中，传递给 selectFrom() 的第二个参数是数组的长度减 1，也就是数组中最后一项的位置。</p>
</blockquote>
<p><span id="5.7.2.5"></span></p>
<h2 id="5-7-2-5-其他方法"><a href="#5-7-2-5-其他方法" class="headerlink" title="5.7.2.5 其他方法"></a>5.7.2.5 其他方法</h2><p>Math 对象中还包含其他一些与完成各种简单或复杂计算有关的方法，但详细讨论其中每一个方法的细节及适用情形超出了本书的范围。下面我们就给出一个表格，其中列出了这些没有介绍到的 Math对象的方法。</p>
<table>
<thead>
<tr>
<th>方 法</th>
<th>说 明</th>
<th>方 法</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Math.abs(num)</td>
<td>返回 num 的绝对值</td>
<td>Math.asin(x)</td>
<td>返回 x 的反正弦值</td>
</tr>
<tr>
<td>Math.exp(num)</td>
<td>返回 Math.E 的 num 次幂</td>
<td>Math.atan(x)</td>
<td>返回 x 的反正切值</td>
</tr>
<tr>
<td>Math.log(num)</td>
<td>返回 num 的自然对数</td>
<td>Math.atan2(y,x)</td>
<td>返回 y/x 的反正切值</td>
</tr>
<tr>
<td>Math.pow(num,power)</td>
<td>返回 num 的 power 次幂</td>
<td>Math.cos(x)</td>
<td>返回 x 的余弦值</td>
</tr>
<tr>
<td>Math.sqrt(num)</td>
<td>返回 num 的平方根</td>
<td>Math.sin(x)</td>
<td>返回 x 的正弦值</td>
</tr>
<tr>
<td>Math.acos(x)</td>
<td>返回 x 的反余弦值</td>
<td>Math.tan(x)</td>
<td>返回 x 的正切值</td>
</tr>
</tbody>
</table>
<p>虽然 ECMA-262 规定了这些方法，但不同实现可能会对这些方法采用不同的算法。毕竟，计算某个值的正弦、余弦和正切的方式多种多样。也正因为如此，这些方法在不同的实现中可能会有不同的精度。</p>
<p><span id="5.8"></span></p>
<h1 id="5-8-第五章小结"><a href="#5-8-第五章小结" class="headerlink" title="5.8 第五章小结"></a>5.8 第五章小结</h1><p>对象在 JavaScript 中被称为引用类型的值，而且有一些内置的引用类型可以用来创建特定的对象，现简要总结如下：</p>
<ol>
<li>引用类型与传统面向对象程序设计中的类相似，但实现不同；</li>
<li>Object 是一个基础类型，其他所有类型都从 Object 继承了基本的行为；</li>
<li>Array 类型是一组值的有序列表，同时还提供了操作和转换这些值的功能；</li>
<li>Date 类型提供了有关日期和时间的信息，包括当前日期和时间以及相关的计算功能；</li>
<li>RegExp 类型是 ECMAScript 支持正则表达式的一个接口，提供了最基本的和一些高级的正则表达式功能。</li>
</ol>
<p>函数实际上是 Function 类型的实例，因此函数也是对象；而这一点正是 JavaScript 最有特色的地方。由于函数是对象，所以函数也拥有方法，可以用来增强其行为。</p>
<p>因为有了基本包装类型，所以 JavaScript 中的基本类型值可以被当作对象来访问。三种基本包装类型分别是：Boolean、Number 和 String。以下是它们共同的特征：</p>
<ol>
<li>每个包装类型都映射到同名的基本类型；</li>
<li>在读取模式下访问基本类型值时，就会创建对应的基本包装类型的一个对象，从而方便了数据操作；</li>
<li>操作基本类型值的语句一经执行完毕，就会立即销毁新创建的包装对象。</li>
</ol>
<p>在所有代码执行之前，作用域中就已经存在两个内置对象：Global 和 Math。在大多数 ECMAScript 实现中都不能直接访问 Global 对象；不过，Web 浏览器实现了承担该角色的 window 对象。全局变量和函数都是 Global 对象的属性。Math 对象提供了很多属性和方法，用于辅助完成复杂的数学计算任务。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript高级程序设计/" rel="tag">#JavaScript高级程序设计</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/09/20/JavaScript高级程序设计（5.6）/" rel="next" title="JavaScript高级程序设计（5.6）">
                <i class="fa fa-chevron-left"></i> JavaScript高级程序设计（5.6）
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/09/22/JavaScript高级程序设计（6.1）/" rel="prev" title="JavaScript高级程序设计（6.1）">
                JavaScript高级程序设计（6.1） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://raw.githubusercontent.com/rason00/rason/gh-pages/img/rasonlogo.gif"
               alt="Rason" />
          <p class="site-author-name" itemprop="name">Rason</p>
          <p class="site-description motion-element" itemprop="description">It's not insane！ It's ideal！A normal psychotic！</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">85</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/rason00" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#5-7-单体内置对象"><span class="nav-number">1.</span> <span class="nav-text">5.7 单体内置对象</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#内容涵盖"><span class="nav-number">2.</span> <span class="nav-text">内容涵盖</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-7-1-Global-对象"><span class="nav-number">3.</span> <span class="nav-text">5.7.1 Global 对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-1-1-URL-编码方法"><span class="nav-number">3.1.</span> <span class="nav-text">5.7.1.1 URL 编码方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-1-2-eval-方法"><span class="nav-number">3.2.</span> <span class="nav-text">5.7.1.2 eval() 方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-1-3-Global-对象的属性"><span class="nav-number">3.3.</span> <span class="nav-text">5.7.1.3 Global 对象的属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-1-4-window-对象"><span class="nav-number">3.4.</span> <span class="nav-text">5.7.1.4 window 对象</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-7-2-Math-对象"><span class="nav-number">4.</span> <span class="nav-text">5.7.2 Math 对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-2-1-Math-对象的属性"><span class="nav-number">4.1.</span> <span class="nav-text">5.7.2.1 Math 对象的属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-2-2-min-和-max-方法"><span class="nav-number">4.2.</span> <span class="nav-text">5.7.2.2 min() 和 max() 方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-2-3-舍入方法"><span class="nav-number">4.3.</span> <span class="nav-text">5.7.2.3 舍入方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-2-4-random-方法"><span class="nav-number">4.4.</span> <span class="nav-text">5.7.2.4 random() 方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-2-5-其他方法"><span class="nav-number">4.5.</span> <span class="nav-text">5.7.2.5 其他方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-8-第五章小结"><span class="nav-number">5.</span> <span class="nav-text">5.8 第五章小结</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>


  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <!-- 添加访问量 开始 -->
<!-- <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
<!-- 添加访问量 结束 -->

<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rason</span>
</div>

<!-- 添加访问量开始 -->
<!-- <div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div> -->
<!-- 添加访问量结束 -->

<!-- <div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
 -->
        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
