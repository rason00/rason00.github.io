<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JavaScript高级程序设计," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.0.1" />






<meta name="description" content="9 客户端检测检测 Web 客户端的手段很多，而且各有利弊。但最重要的还是要知道，不到万不得已，就不要使用客户端检测。只要能找到更通用的方法，就应该优先采用更通用的方法。一言以蔽之，先设计最通用的方案，然后再使用特定于浏览器的技术增强该方案。
内容涵盖
能力检测
更可靠的能力检测
能力检测，不是浏览器检测


怪癖检测">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript高级程序设计(9.1-9.2)">
<meta property="og:url" content="http://yoursite.com/2017/10/04/JavaScript高级程序设计（9.1-9.2）/index.html">
<meta property="og:site_name" content="Rason">
<meta property="og:description" content="9 客户端检测检测 Web 客户端的手段很多，而且各有利弊。但最重要的还是要知道，不到万不得已，就不要使用客户端检测。只要能找到更通用的方法，就应该优先采用更通用的方法。一言以蔽之，先设计最通用的方案，然后再使用特定于浏览器的技术增强该方案。
内容涵盖
能力检测
更可靠的能力检测
能力检测，不是浏览器检测


怪癖检测">
<meta property="og:updated_time" content="2017-10-04T02:53:02.925Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript高级程序设计(9.1-9.2)">
<meta name="twitter:description" content="9 客户端检测检测 Web 客户端的手段很多，而且各有利弊。但最重要的还是要知道，不到万不得已，就不要使用客户端检测。只要能找到更通用的方法，就应该优先采用更通用的方法。一言以蔽之，先设计最通用的方案，然后再使用特定于浏览器的技术增强该方案。
内容涵盖
能力检测
更可靠的能力检测
能力检测，不是浏览器检测


怪癖检测">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2017/10/04/JavaScript高级程序设计（9.1-9.2）/"/>

  <title> JavaScript高级程序设计(9.1-9.2) | Rason </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?c0b175368f6e60b955380864b509c3fc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <div style="display: none;">
    <script src="//s6.cnzz.com/stat.php?id=1259942288&web_id=1259942288" type="text/javascript"></script>
  </div>





  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Rason</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Rason 博客</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                JavaScript高级程序设计(9.1-9.2)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-10-04T10:24:52+08:00" content="2017-10-04">
              2017-10-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="9-客户端检测"><a href="#9-客户端检测" class="headerlink" title="9 客户端检测"></a>9 客户端检测</h1><p><strong>检测 Web 客户端的手段很多，而且各有利弊。但最重要的还是要知道，不到万不得已，就不要使用客户端检测。只要能找到更通用的方法，就应该优先采用更通用的方法。一言以蔽之，先设计最通用的方案，然后再使用特定于浏览器的技术增强该方案。</strong></p>
<h1 id="内容涵盖"><a href="#内容涵盖" class="headerlink" title="内容涵盖"></a>内容涵盖</h1><ol>
<li><a href="#9.1">能力检测</a><ol>
<li><a href="#9.1.1">更可靠的能力检测</a></li>
<li><a href="#9.1.2">能力检测，不是浏览器检测</a></li>
</ol>
</li>
<li><a href="#9.2">怪癖检测</a></li>
</ol>
<a id="more"></a>
<p><span id="9.1"></span></p>
<h1 id="9-1-能力检测"><a href="#9-1-能力检测" class="headerlink" title="9.1 能力检测"></a>9.1 能力检测</h1><p><strong>最常用也最为人们广泛接受的客户端检测形式是能力检测（又称特性检测）</strong>。能力检测的目标不是<br>识别特定的浏览器，而是识别浏览器的能力。采用这种方式不必顾及特定的浏览器如何如何，只要确定浏览器支持特定的能力，就可以给出解决方案。能力检测的基本模式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if (object.propertyInQuestion)&#123;</div><div class="line"> //使用 object.propertyInQuestion</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>举例来说，IE5.0 之前的版本不支持 document.getElementById() 这个 DOM 方法。尽管可以使用非标准的 document.all 属性实现相同的目的，但 IE 的早期版本中确实不存在 document.getElementById()。于是，也就有了类似下面的能力检测代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function getElement(id)&#123;</div><div class="line"> if (document.getElementById)&#123;</div><div class="line"> return document.getElementById(id);</div><div class="line"> &#125; else if (document.all)&#123;</div><div class="line"> return document.all[id];</div><div class="line"></div><div class="line"> &#125; else &#123;</div><div class="line"> throw new Error(&quot;No way to retrieve element!&quot;);</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>这里的 getElement() 函数的用途是返回具有给定 ID 的元素。因为 document.getElementById() 是实现这一目的的标准方式，所以一开始就测试了这个方法。如果该函数存在（不是未定义），则使用该函数。否则，就要继续检测 document.all 是否存在，如果是，则使用它。如果上述两个特性都不存在（很有可能），则创建并抛出错误，表示这个函数无法使用。</p>
</blockquote>
<p>要理解能力检测，首先必须理解两个重要的概念。</p>
<p>如前所述，<strong>第一个概念就是先检测达成目的的最常用的特性</strong>。对前面的例子来说，就是要先检测 document.getElementById()，后检测 document.all。先检测最常用的特性可以保证代码最优化，因为在多数情况下都可以避免测试多个条件。</p>
<p><strong>第二个重要的概念就是必须测试实际要用到的特性</strong>。一个特性存在，不一定意味着另一个特性也存在。</p>
<p>来看一个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function getWindowWidth()&#123;</div><div class="line"> if (document.all)&#123; //假设是 IE</div><div class="line"> return document.documentElement.clientWidth; //错误的用法！！！</div><div class="line"> &#125; else &#123;</div><div class="line"> return window.innerWidth;</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>这是一个错误使用能力检测的例子。getWindowWidth() 函数首先检查 document.all 是否存在，如果是则返回 document.documentElement.clientWidth。第 8 章曾经讨论过，IE8 及之前版本确实不支持 window.innerWidth 属性。<strong>但问题是 document.all 存在也不一定表示浏览器就是 IE。实际上，也可能是 Opera；Opera 支持 document.all，也支持 window.innerWidth</strong>。</p>
</blockquote>
<p><span id="9.1.1"></span></p>
<h2 id="9-1-1-更可靠的能力检测"><a href="#9-1-1-更可靠的能力检测" class="headerlink" title="9.1.1 更可靠的能力检测"></a>9.1.1 更可靠的能力检测</h2><p>能力检测对于想知道某个特性是否会按照适当方式行事（而不仅仅是某个特性存在）非常有用。上一节中的例子利用类型转换来确定某个对象成员是否存在，但这样你还是不知道该成员是不是你想要的。来看下面的函数，它用来确定一个对象是否支持排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//不要这样做！这不是能力检测——只检测了是否存在相应的方法</div><div class="line">function isSortable(object)&#123;</div><div class="line"> return !!object.sort;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>这个函数通过检测对象是否存在 sort() 方法，来确定对象是否支持排序。问题是，任何包含 sort 属性的对象也会返回 true。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var result = isSortable(&#123; sort: true &#125;);</div></pre></td></tr></table></figure>
<p>检测某个属性是否存在并不能确定对象是否支持排序。更好的方式是检测 sort 是不是一个函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//这样更好：检查 sort 是不是函数</div><div class="line">function isSortable(object)&#123;</div><div class="line"> return typeof object.sort == &quot;function&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>这里的 typeof 操作符用于确定 sort 的确是一个函数，因此可以调用它对数据进行排序。在可能的情况下，要尽量使用 typeof 进行能力检测。特别是，宿主对象没有义务让 typeof 返回合理的值。</p>
</blockquote>
<p>最令人发指的事儿就发生在 IE 中。大多数浏览器在检测到 document.createElement() 存在时，都会返回 true。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> //在 IE8 及之前版本中不行</div><div class="line">function hasCreateElement()&#123;</div><div class="line"> return typeof document.createElement == &quot;function&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>在 IE8 及之前版本中，这个函数返回 false，因为 typeof document.createElement 返回的是”object”，而不是”function”。</p>
</blockquote>
<p>如前所述，DOM 对象是宿主对象，IE 及更早版本中的宿主对象是通过 COM 而非 JScript 实现的。因此，document.createElement() 函数确实是一个 COM 对象，所以 typeof 才会返回”object”。IE9 纠正了这个问题，对所有 DOM 方法都返回”function”。</p>
<p>关于 typeof 的行为不标准，IE 中还可以举出例子来。ActiveX 对象（只有 IE 支持）与其他对象的行为差异很大。例如，不使用 typeof 测试某个属性会导致错误，如下所示。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//在 IE 中会导致错误</div><div class="line">var xhr = new ActiveXObject(&quot;Microsoft.XMLHttp&quot;);</div><div class="line">if (xhr.open)&#123; //这里会发生错误</div><div class="line"> //执行操作</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>像这样直接把函数作为属性访问会导致 JavaScript 错误。使用 typeof 操作符会更靠谱一点，但 IE对 typeof xhr.open 会返回”unknown”。这就意味着，在浏览器环境下测试任何对象的某个特性是否存在，要使用下面这个函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// 作者：Peter Michaux</div><div class="line">function isHostMethod(object, property) &#123;</div><div class="line"> var t = typeof object[property];</div><div class="line"> return t==&apos;function&apos; ||</div><div class="line"> (!!(t==&apos;object&apos; &amp;&amp; object[property])) ||</div><div class="line"> t==&apos;unknown&apos;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 可以像下面这样使用这个函数：</div><div class="line">result = isHostMethod(xhr, &quot;open&quot;); //true</div><div class="line">result = isHostMethod(xhr, &quot;foo&quot;); //false</div></pre></td></tr></table></figure>
<p>目前使用 isHostMethod() 方法还是比较可靠的，因为它考虑到了浏览器的怪异行为。不过也要注意，宿主对象没有义务保持目前的实现方式不变，也不一定会模仿已有宿主对象的行为。所以，这个函数——以及其他类似函数，都不能百分之百地保证永远可靠。作为开发人员，必须对自己要使用某个功能的风险作出理性的估计。</p>
<p><span id="9.1.2"></span></p>
<h2 id="9-1-2-能力检测，不是浏览器检测"><a href="#9-1-2-能力检测，不是浏览器检测" class="headerlink" title="9.1.2 能力检测，不是浏览器检测"></a>9.1.2 能力检测，不是浏览器检测</h2><p>检测某个或某几个特性并不能够确定浏览器。下面给出的这段代码（或与之差不多的代码）可以在许多网站中看到，这种“浏览器检测”代码就是<strong>错误地依赖能力检测的典型示例</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//错误！还不够具体</div><div class="line">var isFirefox = !!(navigator.vendor &amp;&amp; navigator.vendorSub);</div><div class="line"></div><div class="line">//错误！假设过头了</div><div class="line">var isIE = !!(document.all &amp;&amp; document.uniqueID);</div></pre></td></tr></table></figure>
<blockquote>
<p>这两行代码代表了对能力检测的典型误用。以前，确实可以通过检测 navigator.vendor 和 navigator.vendorSub 来确定 Firefox 浏览器。但是，Safari 也依葫芦画瓢地实现了相同的属性。于是，这段代码就会导致人们作出错误的判断。为检测 IE，代码测试了 document.all 和 document.uniqueID。这就相当于假设 IE 将来的版本中仍然会继续存在这两个属性，同时还假设其他浏览器都不会实现这两个属性。最后，这两个检测都使用了双逻辑非操作符来得到布尔值（比先存储后访问的效果更好）。</p>
</blockquote>
<p>实际上，根据浏览器不同将能力组合起来是更可取的方式。如果你知道自己的应用程序需要使用某些特定的浏览器特性，那么最好是一次性检测所有相关特性，而不要分别检测。看下面的例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//确定浏览器是否支持 Netscape 风格的插件</div><div class="line">var hasNSPlugins = !!(navigator.plugins &amp;&amp; navigator.plugins.length);</div><div class="line"></div><div class="line">//确定浏览器是否具有 DOM1 级规定的能力</div><div class="line">var hasDOM1 = !!(document.getElementById &amp;&amp; document.createElement &amp;&amp;</div><div class="line"> document.getElementsByTagName);</div></pre></td></tr></table></figure>
<blockquote>
<p>以上例子展示了两个检测：一个检测浏览器是否支持 Netscapte 风格的插件；另一个检测浏览器是否具备 DOM1 级所规定的能力。得到的布尔值可以在以后继续使用，从而节省重新检测能力的时间。</p>
</blockquote>
<p>在实际开发中，应该将能力检测作为确定下一步解决方案的依据，而不是用它来判断用户使用的是什么浏览器。</p>
<p><span id="9.2"></span></p>
<h1 id="9-2-怪癖检测"><a href="#9-2-怪癖检测" class="headerlink" title="9.2 怪癖检测"></a>9.2 怪癖检测</h1><p>与能力检测类似，<strong>怪癖检测（quirks detection）的目标是识别浏览器的特殊行为</strong>。但与能力检测确认浏览器支持什么能力不同，怪癖检测是想要知道浏览器存在什么缺陷（“怪癖”也就是 bug）。</p>
<p>这通常需要运行一小段代码，以确定某一特性不能正常工作。例如，IE8 及更早版本中存在一个 bug，即如果某个实例属性与[[Enumerable]]标记为 false 的某个原型属性同名，那么该实例属性将不会出现在 fon-in 循环当中。可以使用如下代码来检测这种“怪癖”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var hasDontEnumQuirk = function()&#123;</div><div class="line"> var o = &#123; toString : function()&#123;&#125; &#125;;</div><div class="line"> for (var prop in o)&#123;</div><div class="line"></div><div class="line"> if (prop == &quot;toString&quot;)&#123;</div><div class="line"> return false;</div><div class="line"> &#125;</div><div class="line"> &#125;</div><div class="line"> return true;</div><div class="line">&#125;();</div></pre></td></tr></table></figure>
<blockquote>
<p>以上代码通过一个匿名函数来测试该“怪癖”，函数中创建了一个带有 toString() 方法的对象。在正确的 ECMAScript 实现中，toString 应该在 for-in 循环中作为属性返回。</p>
</blockquote>
<p>另一个经常需要检测的“怪癖”是 Safari 3 以前版本会枚举被隐藏的属性。可以用下面的函数来检测该“怪癖”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var hasEnumShadowsQuirk = function()&#123;</div><div class="line"> var o = &#123; toString : function()&#123;&#125; &#125;;</div><div class="line"> var count = 0;</div><div class="line"> for (var prop in o)&#123;</div><div class="line"> if (prop == &quot;toString&quot;)&#123;</div><div class="line"> count++;</div><div class="line"> &#125;</div><div class="line"> &#125;</div><div class="line"> return (count &gt; 1);</div><div class="line">&#125;();</div></pre></td></tr></table></figure>
<blockquote>
<p>如果浏览器存在这个 bug，那么使用 for-in 循环枚举带有自定义的 toString() 方法的对象，就会返回两个 toString 的实例。</p>
</blockquote>
<p>一般来说，“怪癖”都是个别浏览器所独有的，而且通常被归为 bug。在相关浏览器的新版本中，这些问题可能会也可能不会被修复。由于检测“怪癖”涉及运行代码，因此我们建议仅检测那些对你有直接影响的“怪癖”，而且最好在脚本一开始就执行此类检测，以便尽早解决问题。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript高级程序设计/" rel="tag">#JavaScript高级程序设计</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/10/03/JavaScript高级程序设计（8.2-8.6）/" rel="next" title="JavaScript高级程序设计(8.2-8.6)">
                <i class="fa fa-chevron-left"></i> JavaScript高级程序设计(8.2-8.6)
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/10/05/JavaScript高级程序设计（9.3.1）/" rel="prev" title="JavaScript高级程序设计(9.3.1)">
                JavaScript高级程序设计(9.3.1) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://raw.githubusercontent.com/rason00/rason/gh-pages/img/rasonlogo.gif"
               alt="Rason" />
          <p class="site-author-name" itemprop="name">Rason</p>
          <p class="site-description motion-element" itemprop="description">It's not insane！ It's ideal！A normal psychotic！</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">89</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/rason00" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#9-客户端检测"><span class="nav-number">1.</span> <span class="nav-text">9 客户端检测</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#内容涵盖"><span class="nav-number">2.</span> <span class="nav-text">内容涵盖</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9-1-能力检测"><span class="nav-number">3.</span> <span class="nav-text">9.1 能力检测</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-1-更可靠的能力检测"><span class="nav-number">3.1.</span> <span class="nav-text">9.1.1 更可靠的能力检测</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-2-能力检测，不是浏览器检测"><span class="nav-number">3.2.</span> <span class="nav-text">9.1.2 能力检测，不是浏览器检测</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9-2-怪癖检测"><span class="nav-number">4.</span> <span class="nav-text">9.2 怪癖检测</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>


  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <!-- 添加访问量 开始 -->
<!-- <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
<!-- 添加访问量 结束 -->

<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rason</span>
</div>

<!-- 添加访问量开始 -->
<!-- <div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div> -->
<!-- 添加访问量结束 -->

<!-- <div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
 -->
        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
